"use strict";var clear=require("clear");module.exports.updateThreaderText=function(o,n,e){var t=n.map(function(o,e){return n.slice(0,e+1)}).map(function(o){return o.reduce(function(o,e){return o.commands[e]},e)}).map(function(o){return o.title}),r=[e.title].concat(t).map(function(o){return"{#00FFFF-fg}"+o+"{/}"}).join(" -> ");o.menuBoxThreader.setContent(r)},module.exports.updateMenuOptions=function(o,e,n,t,r,m){var c=[];n.forEach(function(o){c.push("{green-fg}("+o+"){/} "+e.commands[o].title+(e.commands[o].commands?"...":""))}),c.push(""),t&&c.push("{green-fg}(;){/} Select the last action"),r&&c.push("{green-fg}(.){/} Re-run the last command"),c.push("{green-fg}(/){/} Run a custom command"),c.push(""),e!==m?c.push("{red-fg}(q){/} Go back..."):c.push("{red-fg}(q){/} Quit"),o.menuBoxTable.setContent(c.join("\n"))};var clearLog=function(o){o.commandLogBox.setContent("")};module.exports.printCommandLogHeader=function(o,e,n){clearLog(o),o.commandLogBoxTitle.setContent("{green-bg}Command: "+(e.title||e.task)+"{/}"),o.commandLogBoxTitle.show(),o.commandLogBoxSubtitle.setContent("{white-bg}Directory: "+n+"{/}"),o.commandLogBoxSubtitle.show(),o.commandLogBox.insertBottom(""),o.commandLogBox.insertBottom(""),o.screen.render()},module.exports.printCommandLogFooter=function(o){o.commandLogBox.insertBottom("{green-bg}Done{/}"),o.commandLogBox.setScrollPerc(100),o.screen.render()},module.exports.bindCommandLog=function(e,o){o.stdout.on("data",function(o){e.commandLogBox.insertBottom(o.toString()),e.commandLogBox.setScrollPerc(100),e.screen.render()}),o.stderr.on("data",function(o){e.commandLogBox.insertBottom("{red-bg}Error{/}"),e.commandLogBox.insertBottom("{red-fg}"+o.toString()+"{/}"),e.commandLogBox.setScrollPerc(100),e.screen.render()})},module.exports.exit=function(o){o.screen.destroy(),clear()};